<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NVIDIA Ethernet Switch SDK API Guide: sdk/sx_api_dbg.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NVIDIA Ethernet Switch SDK API Guide
   &#160;<span id="projectnumber">4.5.2262</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_243a4ba6b4f893d71afbb5a3e90552fa.html">sdk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sx_api_dbg.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="sx__api__dbg_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c4a3667681745a31b3bf1e5fd2e2bd9"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#a3c4a3667681745a31b3bf1e5fd2e2bd9">sx_api_dbg_generate_dump</a> (const sx_api_handle_t handle, const char *dump_file_path)</td></tr>
<tr class="separator:a3c4a3667681745a31b3bf1e5fd2e2bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfc857d32552b5af43e0cbf098cd7165"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#abfc857d32552b5af43e0cbf098cd7165">sx_api_dbg_atcam</a> (const sx_api_handle_t handle, sx_dbg_atcam_cmd_info_t *cmd_p)</td></tr>
<tr class="separator:abfc857d32552b5af43e0cbf098cd7165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade20ce33330a35da4c60a5c097c5812a"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#ade20ce33330a35da4c60a5c097c5812a">sx_api_dbg_generate_dump_extra</a> (const sx_api_handle_t handle, const sx_dbg_extra_info_t *dbg_params)</td></tr>
<tr class="separator:ade20ce33330a35da4c60a5c097c5812a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af65145cfba6ee74df5d66be8dc371d1a"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#af65145cfba6ee74df5d66be8dc371d1a">sx_api_dbg_dump</a> (const sx_api_handle_t handle, const sx_dbg_dump_info_t *dump_info_p)</td></tr>
<tr class="separator:af65145cfba6ee74df5d66be8dc371d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6201d6354c37725e64a547b8d6ffbbcf"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#a6201d6354c37725e64a547b8d6ffbbcf">sx_api_fw_dbg_control_set</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, const sx_dbg_control_params_t *params)</td></tr>
<tr class="separator:a6201d6354c37725e64a547b8d6ffbbcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab44e0081d56ace2a3fb4b1905c168adf"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#ab44e0081d56ace2a3fb4b1905c168adf">sx_api_fw_dbg_control_get</a> (const sx_api_handle_t handle, sx_dbg_control_params_t *params)</td></tr>
<tr class="separator:ab44e0081d56ace2a3fb4b1905c168adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a4d339ead90f26bb557100ded9c5aa"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#a07a4d339ead90f26bb557100ded9c5aa">sx_api_fw_dbg_test</a> (const sx_api_handle_t handle, const sx_dbg_test_params_t *params)</td></tr>
<tr class="separator:a07a4d339ead90f26bb557100ded9c5aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c1e6f5463779cd20cb6cfbe50299afc"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#a3c1e6f5463779cd20cb6cfbe50299afc">sx_api_dbg_fatal_failure_detection_set</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, const sx_dbg_health_sample_params_t *health_sample_params_p)</td></tr>
<tr class="separator:a3c1e6f5463779cd20cb6cfbe50299afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad314e6b2ff7e7f0aa19f66158ee4298"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#aad314e6b2ff7e7f0aa19f66158ee4298">sx_api_dbg_fatal_failure_detection_get</a> (const sx_api_handle_t handle, boolean_t *is_enable_p, sx_dbg_health_sample_params_t *health_sample_params_p)</td></tr>
<tr class="separator:aad314e6b2ff7e7f0aa19f66158ee4298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360b89af171824b953ac5be3ecd37a4c"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#a360b89af171824b953ac5be3ecd37a4c">sx_api_dbg_api_logger_set</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, const sx_dbg_api_logger_params_t *params_p)</td></tr>
<tr class="separator:a360b89af171824b953ac5be3ecd37a4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54764dd1ab21695038b934b9c0cdca7e"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__dbg_8h.html#a54764dd1ab21695038b934b9c0cdca7e">sx_api_dbg_api_logger_get</a> (const sx_api_handle_t handle, sx_dbg_api_logger_params_t *params_p)</td></tr>
<tr class="separator:a54764dd1ab21695038b934b9c0cdca7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3c4a3667681745a31b3bf1e5fd2e2bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c4a3667681745a31b3bf1e5fd2e2bd9">&#9670;&nbsp;</a></span>sx_api_dbg_generate_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_dbg_generate_dump </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dump_file_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API generates debug dump of all SDK modules, SX-core, and driver.</p>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dump_file_path</td><td>- Full path file name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS Operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR Any input parameters is invalid </dd>
<dd>
SX_STATUS_PARAM_EXCEEDS_RANGE Path string length is greater than 256 </dd>
<dd>
SX_STATUS_ERROR General error </dd></dl>

</div>
</div>
<a id="abfc857d32552b5af43e0cbf098cd7165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfc857d32552b5af43e0cbf098cd7165">&#9670;&nbsp;</a></span>sx_api_dbg_atcam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_dbg_atcam </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_dbg_atcam_cmd_info_t *&#160;</td>
          <td class="paramname"><em>cmd_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API should be used only for debug purposes. It is used to access internal commands for the ATcam (SPACE) module.</p>
<p>Supported devices: Spectrum2, Spectrum3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sx_dbg_atcam_cmd_info_t</td><td>- Supported atcam module to execute directly</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS Operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR Any input parameters is invalid </dd>
<dd>
SX_STATUS_ERROR General error </dd></dl>

</div>
</div>
<a id="ade20ce33330a35da4c60a5c097c5812a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade20ce33330a35da4c60a5c097c5812a">&#9670;&nbsp;</a></span>sx_api_dbg_generate_dump_extra()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_dbg_generate_dump_extra </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_dbg_extra_info_t *&#160;</td>
          <td class="paramname"><em>dbg_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API generates debug dump extra info for modules monitored by the SDK. The file name is of the following format "sdkdump_ext_cr_&lt;DEVICE_ID&gt; - &lt;timestamp&gt;.udmp". If a path is not provided, dump will be found in path /var/log. Clear from the path any files with suffix "udmp.*.tmp" before rebooting after information collection.</p>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3, Quantum, Quantum2</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sx_dbg_extra_info_t</td><td>dbg_params - Parameters of debug dump extraction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS Operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR Any input parameters is invalid </dd>
<dd>
SX_STATUS_PARAM_NULL Parameter is NULL </dd>
<dd>
SX_STATUS_PARAM_EXCEEDS_RANGE Any parameter exceeds range limitation </dd>
<dd>
SX_STATUS_TIMEOUT Timeout in synchronous mode (if the call was asynchronous, this RC will be in the completion event) </dd>
<dd>
SX_STATUS_ERROR General error </dd></dl>

</div>
</div>
<a id="af65145cfba6ee74df5d66be8dc371d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af65145cfba6ee74df5d66be8dc371d1a">&#9670;&nbsp;</a></span>sx_api_dbg_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_dbg_dump </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_dbg_dump_info_t *&#160;</td>
          <td class="paramname"><em>dump_info_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API generates debug dump of selected SDK modules, SX-core, and driver. It also allows setting parameters to determine how the debug dump will be collected.</p>
<p>Note: In case dump to plain text format and path is empty, SDK will use the default dump-file path '/var/log/sdkdump'. In case dump to JSON format and path is empty, SDK will use the default dump-file path '/var/log/sdkdump.json'. Hardware-Configuration fetch levels:</p><ul>
<li>Basic: SDK will dump the basic hardware configuration data (e.g., flow/port counters, shared-buffers status). This is the default action and may be used in most cases.</li>
<li>None: SDK will not dump hardware configuration data at all. Use this option when only software databases are required or when a hardware problem is already observed before the dump.</li>
<li>Extended: SDK will get all available hardware configuration data. Use this option in cases when the basic hardware configuration data may not be sufficient for the analysis. The time it takes to dump all information depends on the requested hardware dump method. During the dump, SDK may fetch hardware configuration data, according to the requested dump method. In case SDK is unable to access hardware, it will skip fetching all remaining hardware configuration data.</li>
</ul>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dump_info_p</td><td>- Dump parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS Operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_NULL Parameter is NULL </dd>
<dd>
SX_STATUS_PARAM_ERROR Any input parameters is invalid </dd>
<dd>
SX_STATUS_PARAM_EXCEEDS_RANGE Any parameter exceeds range limitation </dd>
<dd>
SX_STATUS_ERROR General error </dd></dl>

</div>
</div>
<a id="a6201d6354c37725e64a547b8d6ffbbcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6201d6354c37725e64a547b8d6ffbbcf">&#9670;&nbsp;</a></span>sx_api_fw_dbg_control_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_fw_dbg_control_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_dbg_control_params_t *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets Firmware Dump Me control parameters for firmware fatal event: enable and policy. Once firmware fatal event mode is enabled, a trap will be asserted by firmware in case of fatal event. On firmware fatal event occurrence, a firmware dump will be triggered either automatically or by calling the API, as configured in policy.</p>
<p>Note: After a successful firmware dump, the user must re-enable the firmware Fatal event using this API each time.</p>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3, Quantum, Quantum2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- * Currently, only SET is supported </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>- Debug control parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS Operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR Any input parameters is invalid </dd>
<dd>
SX_STATUS_PARAM_EXCEEDS_RANGE Path string length is greater than sx_dbg_policy_e </dd>
<dd>
SX_STATUS_ERROR General error </dd></dl>

</div>
</div>
<a id="ab44e0081d56ace2a3fb4b1905c168adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab44e0081d56ace2a3fb4b1905c168adf">&#9670;&nbsp;</a></span>sx_api_fw_dbg_control_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_fw_dbg_control_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_dbg_control_params_t *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets Firmware Dump Me control parameters for firmware fatal event: enable and policy.</p>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3, Quantum, Quantum2</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>- Debug control parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS Operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR Any input parameters is invalid </dd>
<dd>
SX_STATUS_PARAM_EXCEEDS_RANGE Path string length is greater than sx_dbg_policy_e </dd>
<dd>
SX_STATUS_ERROR General error </dd></dl>

</div>
</div>
<a id="a07a4d339ead90f26bb557100ded9c5aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07a4d339ead90f26bb557100ded9c5aa">&#9670;&nbsp;</a></span>sx_api_fw_dbg_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_fw_dbg_test </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_dbg_test_params_t *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Triggers the assertion of firmware fatal event for testing purposes. After triggering test the firmware fatal event mode, firmware should be re-enabled.</p>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3, Quantum, Quantum2</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>- Test control parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS Operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR Any input parameters is invalid </dd>
<dd>
SX_STATUS_PARAM_EXCEEDS_RANGE Path string length is greater than sx_dbg_policy_e </dd>
<dd>
SX_STATUS_ERROR General error </dd></dl>

</div>
</div>
<a id="a3c1e6f5463779cd20cb6cfbe50299afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c1e6f5463779cd20cb6cfbe50299afc">&#9670;&nbsp;</a></span>sx_api_dbg_fatal_failure_detection_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_dbg_fatal_failure_detection_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_dbg_health_sample_params_t *&#160;</td>
          <td class="paramname"><em>health_sample_params_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API enable detection of SDK and FW failures. The mechanism will monitor and detect: SDK components health state, user space modules, kernel space modules and HW interfaces that SDK uses to communicate with HW, so if issue was found health event will be sent, in parallel the mechanism inform via SysFs ("kernel_health") on the liveness of the system.</p>
<p>ENABLE trigger the health checks - it's not allowed to enable it during ISSU, during SDK initialization or during SDK shutdown in such case SDK will postpone automatically the health monitoring. DISABLE will cancel an active operation.</p>
<p>Note: Upon ISSU / SDK deinit, health monitor mechanism will be disabled.</p>
<p>Note: When cmd is ENABLE and health_sample_params_p is NULL SDK use default values, see sx_dbg_health_sample_params_t description</p>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- ENABLE/DISABLE </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dbg_sample_params_p</td><td>- Pointer to sample parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS If operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR If any input parameter is invalid </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED If cmd is different then ENABLE/DISABLE </dd>
<dd>
SX_STATUS_SDK_NOT_INITIALIZED In case API sent with ENABLE during init </dd>
<dd>
SX_STATUS_ISSU_IN_PROGRESS In case API sent with ENABLE during ISSU </dd>
<dd>
SX_STATUS_PARAM_EXCEEDS_RANGE Any health sample parameter exceeds range limitation. </dd></dl>

</div>
</div>
<a id="aad314e6b2ff7e7f0aa19f66158ee4298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad314e6b2ff7e7f0aa19f66158ee4298">&#9670;&nbsp;</a></span>sx_api_dbg_fatal_failure_detection_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_dbg_fatal_failure_detection_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean_t *&#160;</td>
          <td class="paramname"><em>is_enable_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_dbg_health_sample_params_t *&#160;</td>
          <td class="paramname"><em>health_sample_params_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API returns if the health check mechanism is enabled/disabled . If the health check is enabled, then this API returns the currently configured parameters for the health check feature in sx_dbg_health_sample_params_t. If the health check is disabled, then the is_enable_p pointer value will be False and the sx_dbg_health_sample_params_t values can be ignored</p>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">is_enable_p</td><td>- Indicate if health check mechanism is enabled. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dbg_sample_params_p</td><td>- Pointer to sample parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS If operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR If any input parameter is invalid </dd></dl>

</div>
</div>
<a id="a360b89af171824b953ac5be3ecd37a4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360b89af171824b953ac5be3ecd37a4c">&#9670;&nbsp;</a></span>sx_api_dbg_api_logger_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_dbg_api_logger_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_dbg_api_logger_params_t *&#160;</td>
          <td class="paramname"><em>params_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API configures API logger parameters. To change parameters of active API logger, the user must first disable it and then enable it again with new parameters.</p>
<p>Disabled mode is not supported by this API. The API can disable the API logger using the DISABLE command. Disabled mode can be returned by sx_api_dbg_api_logger_get if the API logger is inactive.</p>
<p>Linear mode writes logs to one file. The writing can be stopped manually or when out of free space.</p>
<p>Cyclic mode writes logs in cycle. When a log file reaches max file size, SDK generates an SX_TRAP_ID_API_LOGGER_EVENT event with the path to the filled log file and starts to write a next log file. When a number of log files reaches sx_dbg_api_logger_params_t.cyclic_params.log_file_num, SDK overwrites the oldest log file. The name of the file in cyclic mode is built using the following scheme: path/file_name_N.pcap where N = [0, SX_DBG_API_LOG_UNIQUE_SUFFIXES_NUM-1]. When the file with N=(SX_DBG_API_LOG_UNIQUE_SUFFIXES_NUM-1) is finished, the next one will use N=0. While SDK tries to keep unique names for log files using unique suffixes, at the given moment of time there can be up to sx_dbg_api_logger_params_t.cyclic_params.log_file_num log files on a disk.</p>
<p>Example: sx_dbg_api_logger_params_t.cyclic_params.max_log_size = 5242880; / 5 Mb / sx_dbg_api_logger_params_t.cyclic_params.log_file_num = 3; sx_dbg_api_logger_params_t.log_file_path[0] = '\0'; / log_file_path is empty, so the default path is used / SDK starts with the file /tmp/sx_sdk_0.pcap. Once it has the size of 5 Mb, SDK will generate an SX_TRAP_ID_API_LOGGER_EVENT event with the path /tmp/sx_sdk_0.pcap and it will start the second out of 3 files using the name /tmp/sx_sdk_1.pcap. Once the second file has the size of 5 Mb, SDK will generate another event and start the third file using the name /tmp/sx_sdk_2.pcap. And once the third file has the size of 5 Mb, SDK will generate another event again and it will rewrite the content of the first file and change the name from /tmp/sx_sdk_0.pcap to /tmp/sx_sdk_3.pcap, and continue to work in this manner.</p>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- ENABLE/DISABLE </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">params_p</td><td>- API logger parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS Operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_EXCEEDS_RANGE Parameters exceed allowed range </dd>
<dd>
SX_STATUS_PARAM_NULL params_p is NULL </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED Command is not supported </dd>
<dd>
SX_STATUS_ERROR General error </dd></dl>

</div>
</div>
<a id="a54764dd1ab21695038b934b9c0cdca7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54764dd1ab21695038b934b9c0cdca7e">&#9670;&nbsp;</a></span>sx_api_dbg_api_logger_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_dbg_api_logger_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_dbg_api_logger_params_t *&#160;</td>
          <td class="paramname"><em>params_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API returns API logger parameters if enabled. If it is disabled, the API returns SX_DBG_API_LOGGER_DISABLED_MODE.</p>
<p>Supported devices: Spectrum, Spectrum2, Spectrum3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">params_p</td><td>- API logger parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS Operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_NULL params_p is NULL </dd>
<dd>
SX_STATUS_ERROR General error </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.16-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 16 2022 06:29:10 for NVIDIA Ethernet Switch SDK API Guide by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
