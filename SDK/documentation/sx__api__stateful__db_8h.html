<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NVIDIA Ethernet Switch SDK API Guide: sdk/sx_api_stateful_db.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NVIDIA Ethernet Switch SDK API Guide
   &#160;<span id="projectnumber">4.6.2034</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_243a4ba6b4f893d71afbb5a3e90552fa.html">sdk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sx_api_stateful_db.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="sx__api__stateful__db_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aae2cc78cbfd9d223a638eb023e84bd4e"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#aae2cc78cbfd9d223a638eb023e84bd4e">sx_api_stateful_db_log_verbosity_level_set</a> (const sx_api_handle_t handle, const sx_log_verbosity_target_t verbosity_target, const sx_verbosity_level_t module_verbosity_level, const sx_verbosity_level_t api_verbosity_level)</td></tr>
<tr class="separator:aae2cc78cbfd9d223a638eb023e84bd4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8baec679866a5be07220bbe37f4d5c"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#afb8baec679866a5be07220bbe37f4d5c">sx_api_stateful_db_log_verbosity_level_get</a> (const sx_api_handle_t handle, const sx_log_verbosity_target_t verbosity_target, sx_verbosity_level_t *module_verbosity_level_p, sx_verbosity_level_t *api_verbosity_level_p)</td></tr>
<tr class="separator:afb8baec679866a5be07220bbe37f4d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeadad0a5d3ed5e7f024be257142cfae3"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#aeadad0a5d3ed5e7f024be257142cfae3">sx_api_stateful_db_init_set</a> (const sx_api_handle_t handle, const sx_stateful_db_init_param_t *init_param_p)</td></tr>
<tr class="separator:aeadad0a5d3ed5e7f024be257142cfae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2fab28db87f805b0bf9a3bb531cd74a"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#ac2fab28db87f805b0bf9a3bb531cd74a">sx_api_stateful_db_deinit_set</a> (const sx_api_handle_t handle)</td></tr>
<tr class="separator:ac2fab28db87f805b0bf9a3bb531cd74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7382629451d4dee3e4c8167e11d138e"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#ab7382629451d4dee3e4c8167e11d138e">sx_api_stateful_db_attr_set</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, sx_stateful_db_attributes_t *attr_p)</td></tr>
<tr class="separator:ab7382629451d4dee3e4c8167e11d138e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d319dc1d771612c4b3a85cfb468b883"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#a3d319dc1d771612c4b3a85cfb468b883">sx_api_stateful_db_attr_get</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, sx_stateful_db_attributes_t *attr_p)</td></tr>
<tr class="separator:a3d319dc1d771612c4b3a85cfb468b883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa88204f9b3d5e0a722c8e2eea7bd9a"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#a1aa88204f9b3d5e0a722c8e2eea7bd9a">sx_api_stateful_db_ordering_set</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, sx_stateful_db_ordering_cfg_t *ordering_cfg_list_p, const uint32_t list_cnt)</td></tr>
<tr class="separator:a1aa88204f9b3d5e0a722c8e2eea7bd9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2759bdf234048408219b3c7e244e6663"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#a2759bdf234048408219b3c7e244e6663">sx_api_stateful_db_ordering_get</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, sx_stateful_db_ordering_cfg_t *ordering_cfg_list_p, const uint32_t list_cnt)</td></tr>
<tr class="separator:a2759bdf234048408219b3c7e244e6663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1ca535648cce09b08d9e5fa17f706af"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#af1ca535648cce09b08d9e5fa17f706af">sx_api_stateful_db_failure_handler_set</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, const sx_stateful_db_status_e failure_type, sx_stateful_db_failure_handler_cfg_t *failure_handler_p)</td></tr>
<tr class="separator:af1ca535648cce09b08d9e5fa17f706af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0869a15b71680ce7d0c701e0cb19f7e7"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#a0869a15b71680ce7d0c701e0cb19f7e7">sx_api_stateful_db_failure_handler_get</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, const sx_stateful_db_status_e failure_type, sx_stateful_db_failure_handler_cfg_t *failure_handler_p)</td></tr>
<tr class="separator:a0869a15b71680ce7d0c701e0cb19f7e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a696af4f240e4ccb796c09fbdddbf73e1"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#a696af4f240e4ccb796c09fbdddbf73e1">sx_api_stateful_db_key_set</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, sx_stateful_db_key_t *key_desc_p, sx_stateful_db_key_id_t *key_id_p)</td></tr>
<tr class="separator:a696af4f240e4ccb796c09fbdddbf73e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023c88c2627ebb1824c3d239ba39be61"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#a023c88c2627ebb1824c3d239ba39be61">sx_api_stateful_db_key_get</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, const sx_stateful_db_key_id_t key_id, sx_stateful_db_key_t *key_desc_p)</td></tr>
<tr class="separator:a023c88c2627ebb1824c3d239ba39be61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af000045c93498ed3e8830173f56aba94"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#af000045c93498ed3e8830173f56aba94">sx_api_stateful_db_key_iter_get</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, const sx_stateful_db_key_id_t key_id, const sx_stateful_db_key_filter_t *filter_p, sx_stateful_db_key_id_t *key_id_list_p, uint32_t *key_id_cnt_p)</td></tr>
<tr class="separator:af000045c93498ed3e8830173f56aba94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac49552cd1e64cf03a4766da180e11140"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#ac49552cd1e64cf03a4766da180e11140">sx_api_stateful_db_partition_set</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, sx_stateful_db_partition_id_e partition_id, sx_stateful_db_partition_cfg_t *partition_cfg_p)</td></tr>
<tr class="separator:ac49552cd1e64cf03a4766da180e11140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f2c98fb268a611de97ab63c0486a3a"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#a52f2c98fb268a611de97ab63c0486a3a">sx_api_stateful_db_partition_get</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, sx_stateful_db_partition_id_e partition_id, sx_stateful_db_partition_status_t *partition_status_p)</td></tr>
<tr class="separator:a52f2c98fb268a611de97ab63c0486a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4840d150127c12084ebd6aeeec20bd86"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#a4840d150127c12084ebd6aeeec20bd86">sx_api_stateful_db_partition_iter_get</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, const sx_stateful_db_partition_id_e partition_id, const sx_stateful_db_partition_filter_t *filter_p, sx_stateful_db_partition_id_e *partition_id_list_p, uint32_t *partition_id_cnt_p)</td></tr>
<tr class="separator:a4840d150127c12084ebd6aeeec20bd86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af751d3c5386ff815f4d549730d494d15"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#af751d3c5386ff815f4d549730d494d15">sx_api_stateful_db_entry_set</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, sx_stateful_db_sw_access_key_t *access_key_p, sx_stateful_db_sw_access_data_t *access_data_p)</td></tr>
<tr class="separator:af751d3c5386ff815f4d549730d494d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a696cbc0d4afd456c3e37cda7963f7128"><td class="memItemLeft" align="right" valign="top">sx_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sx__api__stateful__db_8h.html#a696cbc0d4afd456c3e37cda7963f7128">sx_api_stateful_db_entry_meta_get</a> (const sx_api_handle_t handle, const sx_access_cmd_t cmd, sx_stateful_db_sw_access_key_t *access_key_p, sx_stateful_db_sw_access_data_t *access_data_p, sx_stateful_db_entry_meta_t *access_meta_p)</td></tr>
<tr class="separator:a696cbc0d4afd456c3e37cda7963f7128"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aae2cc78cbfd9d223a638eb023e84bd4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2cc78cbfd9d223a638eb023e84bd4e">&#9670;&nbsp;</a></span>sx_api_stateful_db_log_verbosity_level_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_log_verbosity_level_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_log_verbosity_target_t&#160;</td>
          <td class="paramname"><em>verbosity_target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_verbosity_level_t&#160;</td>
          <td class="paramname"><em>module_verbosity_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_verbosity_level_t&#160;</td>
          <td class="paramname"><em>api_verbosity_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API sets the log verbosity level of STATEFUL DB module.</p>
<p>Supported devices: Spectrum4.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbosity_target</td><td>- Sets verbosity of API/MODULE/BOTH </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">module_verbosity_level</td><td>- STATEFUL DB module verbosity level </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">api_verbosity_level</td><td>- STATEFUL DB API verbosity level</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if an input parameter is invalid </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd></dl>

</div>
</div>
<a id="afb8baec679866a5be07220bbe37f4d5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb8baec679866a5be07220bbe37f4d5c">&#9670;&nbsp;</a></span>sx_api_stateful_db_log_verbosity_level_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_log_verbosity_level_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_log_verbosity_target_t&#160;</td>
          <td class="paramname"><em>verbosity_target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_verbosity_level_t *&#160;</td>
          <td class="paramname"><em>module_verbosity_level_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_verbosity_level_t *&#160;</td>
          <td class="paramname"><em>api_verbosity_level_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API gets the log verbosity level of STATEFUL DB module.</p>
<p>Supported devices: Spectrum4.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbosity_target</td><td>- Get verbosity of API/MODULE/BOTH </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">module_verbosity_level_p</td><td>- STATEFUL DB module verbosity level </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">api_verbosity_level_p</td><td>- STATEFUL DB API verbosity level</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_PARAM_ERROR if an input parameter is invalid </dd>
<dd>
SX_STATUS_PARAM_NULL if an input parameter is NULL </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd></dl>

</div>
</div>
<a id="aeadad0a5d3ed5e7f024be257142cfae3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeadad0a5d3ed5e7f024be257142cfae3">&#9670;&nbsp;</a></span>sx_api_stateful_db_init_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_init_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_stateful_db_init_param_t *&#160;</td>
          <td class="paramname"><em>init_param_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API initiates stateful DB module and its default parameters.</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_param_p</td><td>- Stateful DB init params</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if an input parameter is invalid </dd>
<dd>
SX_STATUS_PARAM_NULL if an input parameter is NULL </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd>
<dd>
SX_STATUS_ALREADY_INITIALIZED if module already initialized </dd></dl>

</div>
</div>
<a id="ac2fab28db87f805b0bf9a3bb531cd74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2fab28db87f805b0bf9a3bb531cd74a">&#9670;&nbsp;</a></span>sx_api_stateful_db_deinit_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_deinit_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API de-initiates stateful DB module.</p>
<p>Note: All partition configurations and stateful DB keys must be cleared before deinit.</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd>
<dd>
SX_STATUS_DB_NOT_EMPTY if DB was not cleared </dd>
<dd>
SX_STATUS_MODULE_UNINITIALIZED if stateful DB module was not initialized </dd></dl>

</div>
</div>
<a id="ab7382629451d4dee3e4c8167e11d138e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7382629451d4dee3e4c8167e11d138e">&#9670;&nbsp;</a></span>sx_api_stateful_db_attr_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_attr_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_attributes_t *&#160;</td>
          <td class="paramname"><em>attr_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API edits global attribute of stateful DB module.</p>
<p>Note : Ordering configuration cannot be changed when stateful DB is active. Stateful DB is considered active when at least one ACL rule accesses stateful DB in its action. The GP register allocated for force ordering cannot be used for other purposes. Any attempt of another module to use this GP register will lead to a param error. Changing ordering register requires disabling ordering and then re-enabling it with a new GP register.</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- EDIT </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attr_p</td><td>- Global attributes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if an input parameter is invalid </dd>
<dd>
SX_STATUS_PARAM_NULL if an input parameter is NULL </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd>
<dd>
SX_STATUS_CMD_ERROR for unsupported command </dd>
<dd>
SX_STATUS_MODULE_UNINITIALIZED if stateful DB module was not initialized </dd></dl>

</div>
</div>
<a id="a3d319dc1d771612c4b3a85cfb468b883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d319dc1d771612c4b3a85cfb468b883">&#9670;&nbsp;</a></span>sx_api_stateful_db_attr_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_attr_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_attributes_t *&#160;</td>
          <td class="paramname"><em>attr_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API gets global attribute of stateful DB module.</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- GET </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">attr_p</td><td>- Global attributes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if an input parameter is invalid </dd>
<dd>
SX_STATUS_PARAM_NULL if an input parameter is NULL </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd>
<dd>
SX_STATUS_CMD_ERROR for unsupported command </dd>
<dd>
SX_STATUS_MODULE_UNINITIALIZED if stateful DB module was not initialized </dd></dl>

</div>
</div>
<a id="a1aa88204f9b3d5e0a722c8e2eea7bd9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aa88204f9b3d5e0a722c8e2eea7bd9a">&#9670;&nbsp;</a></span>sx_api_stateful_db_ordering_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_ordering_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_ordering_cfg_t *&#160;</td>
          <td class="paramname"><em>ordering_cfg_list_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>list_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API forces ordering of packets on a list of network ports. When enabled, stateful DB is accessed by the same order as the packets ingress to the port.</p>
<p>Note: Ordering must be enabled globally before forcing order on port (set force_ordering_enable to TRUE by sx_api_stateful_db_init or by sx_api_stateful_db_attr_set). Ordering is disabled by default. To change ordering configuration, port admin state must be down. This API supports network ports only. The network port can be a LAG member.</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- SET </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ordering_cfg_list_p</td><td>- List of ports and the configuration for packet processing order </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">list_cnt</td><td>- Number of ports in the list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if an input parameter is invalid </dd>
<dd>
SX_STATUS_PARAM_NULL if an input parameter is NULL </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd>
<dd>
SX_STATUS_CMD_ERROR for unsupported command </dd>
<dd>
SX_STATUS_MODULE_UNINITIALIZED if stateful DB module was not initialized </dd></dl>

</div>
</div>
<a id="a2759bdf234048408219b3c7e244e6663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2759bdf234048408219b3c7e244e6663">&#9670;&nbsp;</a></span>sx_api_stateful_db_ordering_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_ordering_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_ordering_cfg_t *&#160;</td>
          <td class="paramname"><em>ordering_cfg_list_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>list_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API returns the ordering configuration for a list of ports.</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- GET </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ordering_cfg_list_p</td><td>- List of ports and their ordering configuration IN: List of log ports, OUT: Ports' ordering configuration </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">list_cnt</td><td>- Number of ports in the list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if an input parameter is invalid </dd>
<dd>
SX_STATUS_PARAM_NULL if an input parameter is NULL </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd>
<dd>
SX_STATUS_CMD_ERROR for unsupported command </dd>
<dd>
SX_STATUS_MODULE_UNINITIALIZED if stateful DB module was not initialized </dd></dl>

</div>
</div>
<a id="af1ca535648cce09b08d9e5fa17f706af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1ca535648cce09b08d9e5fa17f706af">&#9670;&nbsp;</a></span>sx_api_stateful_db_failure_handler_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_failure_handler_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_stateful_db_status_e&#160;</td>
          <td class="paramname"><em>failure_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_failure_handler_cfg_t *&#160;</td>
          <td class="paramname"><em>failure_handler_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API configures a handler to be executed in case of failure.</p>
<p>Note: The default handler is no operations. No handler can be programmed for success status.</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- SET/UNSET </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">failure_type</td><td>- Failure type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">failure_handler_p</td><td>- Failure handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if an input parameter is invalid </dd>
<dd>
SX_STATUS_PARAM_NULL if an input parameter is NULL </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd>
<dd>
SX_STATUS_CMD_ERROR for unsupported command </dd>
<dd>
SX_STATUS_MODULE_UNINITIALIZED if stateful DB module was not initialized </dd></dl>

</div>
</div>
<a id="a0869a15b71680ce7d0c701e0cb19f7e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0869a15b71680ce7d0c701e0cb19f7e7">&#9670;&nbsp;</a></span>sx_api_stateful_db_failure_handler_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_failure_handler_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_stateful_db_status_e&#160;</td>
          <td class="paramname"><em>failure_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_failure_handler_cfg_t *&#160;</td>
          <td class="paramname"><em>failure_handler_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API returns the configured handler per failure type.</p>
<p>Note: When the number of actions in an action set is zero means that there is no actions set for the failure type.</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- GET </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">failure_type</td><td>- Failure type </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">failure_handler_p</td><td>- Failure handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if an input parameter is invalid </dd>
<dd>
SX_STATUS_PARAM_NULL if an input parameter is NULL </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd>
<dd>
SX_STATUS_CMD_ERROR for unsupported command </dd>
<dd>
SX_STATUS_MODULE_UNINITIALIZED if stateful DB module was not initialized </dd></dl>

</div>
</div>
<a id="a696af4f240e4ccb796c09fbdddbf73e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a696af4f240e4ccb796c09fbdddbf73e1">&#9670;&nbsp;</a></span>sx_api_stateful_db_key_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_key_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_key_t *&#160;</td>
          <td class="paramname"><em>key_desc_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_key_id_t *&#160;</td>
          <td class="paramname"><em>key_id_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API creates a stateful DB key ID that represents the access key description to stateful DB. Use this key ID in ACL action SX_FLEX_ACL_STATEFUL_DB or in sx_api_stateful_db_entry_set or sx_api_stateful_db_entry_meta_get API. The API returns the key ID and number of KVD lines in key_desc_p-&gt;key_size. To set partition with N entries using sx_api_stateful_db_partition_set API, allocate partition size: N*key_size.</p>
<p>Note: It is not possible to DESTROY stateful DB key ID when: 1) The key is used by the ACL action. 2) Any partition contains entries belong to the given key.</p>
<p>Supported devices: Spectrum4.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- CREATE/DESTROY </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">key_desc_p</td><td>- Stateful key description (ignored when using DESTROY) </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">key_id_p</td><td>- Stateful key ID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_NULL or SX_STATUS_PARAM_ERROR if input parameter is invalid </dd>
<dd>
SX_STATUS_DB_NOT_EMPTY if any partition contains stateful DB key entries </dd>
<dd>
SX_STATUS_ENTRY_NOT_FOUND if stateful DB key is not found in the database </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED for unsupported command </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd></dl>

</div>
</div>
<a id="a023c88c2627ebb1824c3d239ba39be61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023c88c2627ebb1824c3d239ba39be61">&#9670;&nbsp;</a></span>sx_api_stateful_db_key_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_key_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_stateful_db_key_id_t&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_key_t *&#160;</td>
          <td class="paramname"><em>key_desc_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API returns the description of stateful DB key.</p>
<p>Supported devices: Spectrum4.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- GET </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_id</td><td>- Stateful key ID </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">key_desc_p</td><td>- Stateful key description</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completed successfully </dd>
<dd>
SX_STATUS_PARAM_NULL if input parameter is invalid </dd>
<dd>
SX_STATUS_ENTRY_NOT_FOUND if stateful DB key is not found in database </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED if supplied command is unsupported </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle error </dd></dl>

</div>
</div>
<a id="af000045c93498ed3e8830173f56aba94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af000045c93498ed3e8830173f56aba94">&#9670;&nbsp;</a></span>sx_api_stateful_db_key_iter_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_key_iter_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_stateful_db_key_id_t&#160;</td>
          <td class="paramname"><em>key_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_stateful_db_key_filter_t *&#160;</td>
          <td class="paramname"><em>filter_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_key_id_t *&#160;</td>
          <td class="paramname"><em>key_id_list_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>key_id_cnt_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API retrieves a list of one or more stateful DB key ID. The following use case scenarios apply with different input parameters. X stands for don't-care.</p>
<p>1) cmd = SX_ACCESS_CMD_GET, key_id = X, key_id_list_p = X, key_id_cnt_p = 0: In this case, the API will return the total number of stateful DB key ID that were set.</p>
<p>2) cmd = SX_ACCESS_CMD_GET, key_id = X, key_id_list_p = valid, key_id_cnt_p &gt; 0: In this case, the API will check if the specified key_id exists. If it does, the key_id will be returned in the key_id_list_p along with a key_id_cnt_p of 1. If key_id does not exist, an empty list will be returned with key_id_cnt_p = 0. A key_id_cnt_p &gt; 1 will be treated as a key_id_cnt_p of 1. In this case, key_id_list_p pointer must be valid.</p>
<p>3) cmd = SX_ACCESS_CMD_GET_FIRST, key_id = X, key_id_list_p = valid, key_id_cnt_p = X: In this case, the API will return the first key_id_cnt_p stateful DB key ID starting from the head of the database. The total number of elements fetched will not exceed the value provided in key_id_cnt_p and will be returned to that pointer. The input key_id is ignored in this case. For key_id_cnt_p = 0 API will return success and an empty list. In this case, key_id_list_p pointer must be valid.</p>
<p>4) cmd = SX_ACCESS_CMD_GETNEXT, key_id = X, key_id_list_p = valid, key_id_cnt_p = X: In this case, the API will return the next set of stateful DB key IDs starting from the next valid stateful DB key ID that comes after the specified key_id. The total number of elements fetched will not exceed the value provided in key_id_cnt_p and will be returned to that pointer.</p>
<p>Note: For key_id_cnt_p = 0 API will return success and an empty list. If no valid next stateful DB key ID exists in the database, an empty list will be returned. In this case, key_id_list_p pointer must be valid.</p>
<p>Supported devices: Spectrum4.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- GET/GET_FIRST/GET_NEXT </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key_id</td><td>- Stateful DB key ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filter_p</td><td>- Specify a filter parameter (not supported yet) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">key_id_list_p</td><td>- Return list of key IDs </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">key_id_cnt_p</td><td>- [in] Number of key ID to get [out] Number of key IDs returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_UNSUPPORTED if configuration is not supported by the platform </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED if command is not supported </dd>
<dd>
SX_STATUS_PARAM_NULL if a parameter is NULL </dd></dl>

</div>
</div>
<a id="ac49552cd1e64cf03a4766da180e11140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac49552cd1e64cf03a4766da180e11140">&#9670;&nbsp;</a></span>sx_api_stateful_db_partition_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_partition_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_partition_id_e&#160;</td>
          <td class="paramname"><em>partition_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_partition_cfg_t *&#160;</td>
          <td class="paramname"><em>partition_cfg_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API configures partition maximum size and warning threshold of a partition in stateful DB.</p>
<p>Partition size is allocated with KVD line units. In order to allocate partition with N entries, use the maximum size of N*key_size. Key_size is the value return by sx_api_stateful_db_key_set API. Max partition occupancy might exceed configured maximum threshold by rm_resource_global.stateful_db_partition_max_exceed_kvd. Crossing maximum or warning thresholds will trigger SX_TRAP_ID_STATEFUL_DB_PARTITION_THRESHOLD_CROSSED event. It is possible to register to receive this event, which informs of the current occupancy and the threshold crossed. Crossing the maximum threshold results SX_STATEFUL_DB_STATUS_OVERFLOW_E failure, which triggers the execution of configured action set by sx_api_stateful_db_failure_handler_set API. Edit the partition maximum and warning thresholds is allowed when the partition is not active. In this case, the new warning threshold needs to be higher than the current partition occupancy.</p>
<p>Note: Partition size accounted in the system KVD</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- CREATE/EDIT/DESTROY </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">partition_id</td><td>- Partition ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">partition_cfg_p</td><td>- Partition configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if input parameter is invalid </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_PARAM_NULL if input parameter is NULL </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED for unsupported command </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle error </dd></dl>

</div>
</div>
<a id="a52f2c98fb268a611de97ab63c0486a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f2c98fb268a611de97ab63c0486a3a">&#9670;&nbsp;</a></span>sx_api_stateful_db_partition_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_partition_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_partition_id_e&#160;</td>
          <td class="paramname"><em>partition_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_partition_status_t *&#160;</td>
          <td class="paramname"><em>partition_status_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API return the stateful DB partition configuration and current occupancy in hardware.</p>
<p>Supported devices: Spectrum4</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- GET </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">partition_id</td><td>- Partition ID </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">partition_status_p</td><td>- Configuration and occupancy</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_ERROR if input parameter is invalid </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_PARAM_NULL if input parameter is NULL </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED if applied command is unsupported </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle error </dd>
<dd>
SX_STATUS_RESOURCE_IN_USE if trying to destroy partition while in use </dd></dl>

</div>
</div>
<a id="a4840d150127c12084ebd6aeeec20bd86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4840d150127c12084ebd6aeeec20bd86">&#9670;&nbsp;</a></span>sx_api_stateful_db_partition_iter_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_partition_iter_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_stateful_db_partition_id_e&#160;</td>
          <td class="paramname"><em>partition_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_stateful_db_partition_filter_t *&#160;</td>
          <td class="paramname"><em>filter_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_partition_id_e *&#160;</td>
          <td class="paramname"><em>partition_id_list_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>partition_id_cnt_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API retrieves a list of one or more partition ID. The following use case scenarios apply with different input parameters. X stands for don't-care.</p>
<p>1) cmd = SX_ACCESS_CMD_GET, partition_id = X, partition_id_list_p = X, partition_id_cnt_p = 0: In this case, the API will return the total number of partition ID that were set.</p>
<p>2) cmd = SX_ACCESS_CMD_GET, partition_id = X, partition_id_list_p = valid, partition_id_cnt_p &gt; 0: In this case, the API will check if the specified partition_id exists. If it does, the partition_id will be returned in the partition_id_list_p along with a partition_id_cnt_p of 1. If partition_id does not exist, an empty list will be returned with partition_id_cnt_p = 0. A partition_id_cnt_p &gt; 1 will be treated as a partition_id_cnt_p of 1. In this case, partition_id_list_p pointer must be valid.</p>
<p>3) cmd = SX_ACCESS_CMD_GET_FIRST, partition_id = X, partition_id_list_p = valid, partition_id_cnt_p = X: In this case, the API will return the first partition_id_cnt_p partition ID starting from the head of the database. The total number of elements fetched will not exceed the value provided in partition_id_cnt_p and will be returned to that pointer. The input partition_id is ignored in this case. For partition_id_cnt_p = 0 API will return success and an empty list. In this case, partition_id_list_p pointer must be valid.</p>
<p>4) cmd = SX_ACCESS_CMD_GETNEXT, partition_id = X, partition_id_list_p = valid, partition_id_cnt_p = X: In this case, the API will return the next set of partition IDs starting from the next valid partition ID that comes after the specified partition_id. The total number of elements fetched will not exceed the value provided in partition_id_cnt_p and will be returned to that pointer.</p>
<p>Note: For partition_id_cnt_p = 0 API will return success and an empty list. If no valid next partition ID exists in the database, an empty list will be returned. In this case, partition_id_list_p pointer must be valid.</p>
<p>Supported devices: Spectrum4.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- GET/GET_FIRST/GET_NEXT </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">partition_id</td><td>- Partition ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filter_p</td><td>- Specify a filter parameter (not supported yet) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">partition_id_list_p</td><td>- Return list of partition IDs </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">partition_id_cnt_p</td><td>- [in] Number of partitions ID to get [out] Number of partition IDs returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_ERROR for a general error </dd>
<dd>
SX_STATUS_UNSUPPORTED if configuration is not supported by the platform </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED if command is not supported </dd>
<dd>
SX_STATUS_PARAM_NULL if a parameter is NULL </dd></dl>

</div>
</div>
<a id="af751d3c5386ff815f4d549730d494d15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af751d3c5386ff815f4d549730d494d15">&#9670;&nbsp;</a></span>sx_api_stateful_db_entry_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_entry_set </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_sw_access_key_t *&#160;</td>
          <td class="paramname"><em>access_key_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_sw_access_data_t *&#160;</td>
          <td class="paramname"><em>access_data_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API performs software access to stateful DB: read, write or remove entry. The software entry key contains the key data, the operations and the partition ID to access. The access returns the status of the operation. If the operation failed, failure type will return. If the operation was successful, the DB entry data will return.</p>
<p>Note: New DB entry will be created when:</p><ol type="1">
<li>db_op NOP sem_op LOCK --&gt; Create new entry with value 0.</li>
<li>db_op READ sem_op LOCK --&gt; Create new entry with value 0, db_entry_value is 0.</li>
<li>db_op WRITE --&gt; Create new entry with value db_entry_value.</li>
</ol>
<p>Supported devices: Spectrum4.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- SET </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">access_key_p</td><td>- Stateful key data, access operations, and partition ID </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">access_data_p</td><td>- Returns status of DB operation, found indication, and entry data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_NULL if input parameter is invalid </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED for unsupported command </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle error </dd></dl>

</div>
</div>
<a id="a696cbc0d4afd456c3e37cda7963f7128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a696cbc0d4afd456c3e37cda7963f7128">&#9670;&nbsp;</a></span>sx_api_stateful_db_entry_meta_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sx_status_t sx_api_stateful_db_entry_meta_get </td>
          <td>(</td>
          <td class="paramtype">const sx_api_handle_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const sx_access_cmd_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_sw_access_key_t *&#160;</td>
          <td class="paramname"><em>access_key_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_sw_access_data_t *&#160;</td>
          <td class="paramname"><em>access_data_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sx_stateful_db_entry_meta_t *&#160;</td>
          <td class="paramname"><em>access_meta_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API returns data and metadata of stateful DB entry. This API does not change DB data or metadata, and does not impact entry activity. The software entry key contains the key data and the partition ID to access.</p>
<p>Note: db_op and sem_op are ignored. The access returns the status of the operation, found indication, value in hardware, and entry metadata: activity and semaphore information.</p>
<p>Supported devices: Spectrum4.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>- SX-API handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>- GET </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">access_key_p</td><td>- Stateful key data and partition ID. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">access_data_p</td><td>- Return status of DB operation, found indication and entry data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">access_meta_p</td><td>- Entry metadata, valid if entry was found in DB.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SX_STATUS_SUCCESS if operation completes successfully </dd>
<dd>
SX_STATUS_PARAM_NULL if input parameter is invalid </dd>
<dd>
SX_STATUS_ENTRY_NOT_FOUND if stateful DB key is not found in the database </dd>
<dd>
SX_STATUS_CMD_UNSUPPORTED for unsupported command </dd>
<dd>
SX_STATUS_INVALID_HANDLE for invalid handle </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.16-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 5 2023 19:57:15 for NVIDIA Ethernet Switch SDK API Guide by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
